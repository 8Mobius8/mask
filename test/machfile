# An Example CLI

> The cli description goes here...


<!--
This version can be printed in 3 ways:
$cmd -v
$cmd --version
$cmd version
-->
VERSION: 1.2.3

<!-- This is how you define options for commands -->
<!-- All child commands will have parent options in scope. -->
OPTIONS:
* VERBOSE <!-- NOTE: i should make verbose an automatically added flag -->
    * flags: -v --verbose
    * type: bool <!-- or: string -->
    * desc: This flag will enable more verbose logging.
* DEVMODE
    * flags: -d --dev
    * type: bool
    * desc: This flag will run the service in development mode.





## services

<!-- Cmd description goes here. -->
> Commands related to starting, stopping, and restarting services

### services start <service_name>

> Start or restart a service.

~~~bash
cd "~/projects/$service_name"

if [[ "$DEVMODE" == "true" ]]; then
    npm run dev
else
    npm start
fi
~~~

### services stop <service_name>

> Stop a service.

~~~bash
cd "~/projects/$service_name"
npm run stop
~~~





## db

> Commands related to the database.

### db list

> List database snapshots.

~~~bash
cd "~/projects/snapshots/db"
ls -al
~~~

### db snapshot <snapshot_name>

> Take a snapshot of the database.

~~~bash
cd "~/projects/snapshots/db"
postgres snapshot cmd > $snapshot_name
~~~

### db restore <snapshot_name>

> Restore the database to a snapshot.

~~~bash
cd "~/projects/snapshots/db"
postgres restore cmd > $snapshot_name
~~~





## serve

> Serve this directory

**OPTIONS:**
* PORT
    * flags: -p --port
    * type: string
    * desc: Which port to serve on

~~~js
const handler = require('serve-handler');
const http = require('http');

const server = http.createServer((request, response) => handler(request, response))

const PORT = Number(process.env.PORT);
server.listen(PORT, () => {
    console.log(`Running at http://localhost:${PORT}`);
});
~~~





## format

**OPTIONS:**
* CHECK
    * flags: -c --check
    * type: bool
    * desc: Validate files are correctly formatted

~~~sh
prettier="prettier '{lib,src,test}/**/*.{js,jsx,ts,tsx,css,html}'"

if [[ "$CHECK" == "true" ]]; then
    $prettier --list-different
else
    $prettier --write
fi
~~~
